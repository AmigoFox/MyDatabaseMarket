@model MyDatabaseMarket.Database.User
@using Microsoft.AspNetCore.Identity
@{
    ViewData["Title"] = "Личный кабинет";
}

<h1 class="mb-4">@ViewData["Title"]</h1>

@if (!User.Identity.IsAuthenticated)
{
    <h2>Вход</h2>
    <form asp-action="Login" method="post">
        <div class="form-group">
            <label>Логин</label>
            <input type="text" name="login" class="form-control" required />
        </div>
        <div class="form-group">
            <label>Пароль</label>
            <input type="password" name="password" class="form-control" required />
        </div>
        <button type="submit" class="btn btn-primary">Войти</button>
        <a asp-action="Register" class="btn btn-secondary">Создать аккаунт</a>
    </form>
}
else
{
    <h2>Добро пожаловать, @User.Identity.Name!</h2>
    <form asp-action="Logout" method="post">
        <button type="submit" class="btn btn-danger mt-2">Выйти из аккаунта</button>
    </form>

    <div class="row g-3 mt-4">
        <div class="col-md-4">
            <a class="text-decoration-none" href="@Url.Action("Profile", "Account")">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Профиль</h5>
                        <p class="card-text">Данные аккаунта и безопасность.</p>
                    </div>
                </div>
            </a>
        </div>

        <div class="col-md-4">
            <a class="text-decoration-none" href="@Url.Action("Orders", "Account")">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Заказы</h5>
                        <p class="card-text">Список БД, стоимость, статусы.</p>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-4">
            <a class="text-decoration-none" href="@Url.Action("Payments", "Account")">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Платежи</h5>
                        <p class="card-text">История оплат и суммы.</p>
                    </div>
                </div>
            </a>
        </div>
    </div>
}
